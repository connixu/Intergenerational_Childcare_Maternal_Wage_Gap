---
title: "Final Results:Intergenerational Childcare and Maternal Wages "
date: "Spring 2022"
output:
  md_document:
    variant: markdown_github
always_allow_html: true
---

# Purpose  
This r markdown file (also rendered as R and md files) includes **finalized** linear regression work exploring relative-provided childcare, relative avaialability within the US, and the differential impact relative-provided childcare would have on working mothers. Refer to [NLSY97_Preprocessing_2.R](https://github.com/connixu/Intergenerational_Childcare_Maternal_Wage_Gap/blob/main/code/data_cleaning/NLSY97_Preprocessing_2.R) for inference work code and refer to the  [data_exploration](https://github.com/connixu/Intergenerational_Childcare_Maternal_Wage_Gap/blob/main/code/data_exploration/README.md) section for some basic visualizations. 

```{r,eval=FALSE, echo=FALSE, message=FALSE, warnings=FALSE}
#\tableofcontents # adds table of contents
```

# Hypotheses
* *Hypothesis 1*: Working mothers using relative-provided childcare as a primary childcare option will be more likely to experience lower wage disparities over time compared to working mothers using other forms of childcare.  
* *Hypothesis 2*: Working mothers using relative-provided childcare as a primary childcare option will be more likely to change from part time to full time compared to working mothers using other forms of childcare. 
* *Hypothesis 2*: Working mothers with relatives in closer proximity will be more likely to experience lower wage disparities over time compared to working mothers without relatives in closer proximity. 

```{r load libraries, echo=FALSE, message=FALSE, warnings=FALSE}
library(plm)
library(dplyr)
library(plyr)
library(QMSS)
library(tidyverse)
library(stargazer)
library(psych)
library(ggplot2)
library(ggthemes) 
library(ggsci)
library(viridis)
library(hrbrthemes)
library(imputeTS)
library(kableExtra)
library(naniar)
library(plotly)
library(DT)
library(tidyr)
library(Hmisc)
```

```{r functions, echo=FALSE}
# Select relevant columns and filter for individuals with valid data about their education, filter for women with some income generating work; filter for High School + 
# Make df that includes working women with valid data about childcare
Valid_Data <- function(df) { 
  NLSY_Valid <-  df %>% 
  filter(CV_HGC_EVER_EDT != 95 & !is.na(CV_HGC_EVER_EDT)) %>% 
  filter(CV_HGC_EVER_EDT >= 12) %>% filter(YEAR>=2005)
}

Valid_Childcare <- function(df,first_child) {
  NLSY_Valid <- Valid_Data(df)
  NLSY_Valid_Childcare <- NLSY_Valid %>% subset(INCOME>0) %>% subset(WORK_EDU_HRS>=0) %>% 
    subset(WORK_EDU_HRS != 999) %>% 
  subset(SELF_CARE==0) %>% subset(YEAR <= BIOCHILD_6_YR)
  
  if(first_child == TRUE) {
  NLSY_Valid_Childcare <- NLSY_Valid_Childcare %>% subset(YEAR <= BIOCHILD_6_YR)
  }
  else{
  NLSY_Valid_Childcare <- NLSY_Valid_Childcare %>% subset(CV_HH_UNDER_6>0)
  }
}

# Filter for data that includes working women (Part Time and up) with valid data about childcare
Valid_Childcare_Income <- function(df,first_child) {
  NLSY_Valid_Childcare <- Valid_Childcare(df,first_child)
  NLSY_Valid_Childcare_Income <- NLSY_Valid_Childcare %>% subset(INCOME>0) %>% subset(PART_TIME==1)
}
```

# Data and Variables 

As noted in the final report, a majority of our models (unless otherwise stated) are run on data of mothers with a high school education and part-time income-generating work. Mothers are filtered for those with a child(/children) under 6 year of age. Our main models are run only on women with only one child. 

## Dependent Variables 
* INCOME - Income generated by respondent (Mother)
* FULL-TIME - Whether the respondent is working full time (32 hours +)  

## Independent Variables
* FAMILY_CARE - Childcare from Relative, Family Daycare (i.e., dropping child off with family), Sibling Care 
* Relative_within_15_minutes - Does a relative live within 15 minutes of the respondent? 

## Control Variables 
* BA+ 
* N_CHILDREN - Number of children in household total (control variable only applicable when we are looking at multiple children).
* MARRIED_OR_COHABITATING - Wheher the respondent is married / cohabitating with a spouse or partner. 
* MOTHER_AGE_FIRST_CHILD - The age of a woman when their first child is born 
* MATERNAL_AGE - The age of a woman after their first child is born (E.g., if child is born when they are 25, in the regression the values would be 25,26,27,28...)
* SPOUSAL_INCOME_LOG - Used as a proxy for alternative income within the family and to provide more control for the socioeconomic status of respondent (which is often captured by household income and education level) (Calculated by taking the log of **spousal income + 1**)


```{r load datasets}
# Childcare Variables here are averaged across children (YCCAL), looking at ANY child of respondent under 6 
load("~/QMSS/Intergenerational_Childcare_Maternal_Wage_Gap/data/NLSY_imputed.RData")
NLSY_Valid_Childcare_Part_Time_2 <- Valid_Childcare_Income(NLSY_imputed,FALSE) # Part Time and Above 
NLSY_Valid_Childcare_Income_2 <- Valid_Childcare(NLSY_imputed,FALSE) %>% subset(INCOME > 0) # Any Income Generated 
NLSY_Valid_Childcare_Part_Time_2 <- NLSY_Valid_Childcare_Part_Time_2[!is.na(NLSY_Valid_Childcare_Part_Time_2$FAMILY_CARE), ]

# Childcare Variables here are averaged across children (YCCAL), looking at respondents while their first child is under 6 years old
load("~/QMSS/Intergenerational_Childcare_Maternal_Wage_Gap/data/NLSY_imputed_first_child.RData")
NLSY_Valid_Childcare_Part_Time_1 <- Valid_Childcare_Income(NLSY_imputed,TRUE)
NLSY_Valid_Childcare_Part_Time_1 <- NLSY_Valid_Childcare_Part_Time_1[!is.na(NLSY_Valid_Childcare_Part_Time_1$FAMILY_CARE), ]

NLSY_Valid_Childcare_Income_1 <- Valid_Childcare(NLSY_imputed,TRUE) %>% subset(INCOME > 0)

# Only looking at parent having one child (first child) - while their first child is under 6 years old 
NLSY_Valid_Childcare_Part_Time_One_Child <- NLSY_Valid_Childcare_Part_Time_1 %>% subset(N_CHILDREN==1) 
write.csv(NLSY_Valid_Childcare_Part_Time_One_Child,"~/QMSS/Intergenerational_Childcare_Maternal_Wage_Gap/data/NLSY_Valid_Childcare_Part_Time_One_Child.csv")
NLSY_Valid_Childcare_Income_One_Child <- NLSY_Valid_Childcare_Income_1 %>% subset(N_CHILDREN==1) 

psych::describe(NLSY_Valid_Childcare_Part_Time_One_Child %>% select(INCOME, MARRIED_OR_COHABITATING, BA_ABOVE,SPOUSAL_INCOME, MOTHER_AGE_FIRST_CHILD, MATERNAL_AGE,`YCCAL-6800`,FAMILY_CARE, N_CHILDREN,FULL_TIME,Relative_within_15_minutes,YEAR))

```

# Models 
## Hypothesis 1:  Basic Models (`INCOME_LOG ~ FAMILY_CARE`, Net of `YEAR`)
As noted above, for the primary models presented for my thesis, I will be looking for mothers working at least PART TIME with FIRST child and ONE child only. This is meant to remove the need to control for many of the factors that we may need to consider if including women with multiple children (e.g., sibling care, additional costs for formal care / any difference in avaialability of informal and relative-based care, mother's experience level).Note that for this mode of filtering, our sample size is relatively smaller, and thus a pooled model may be better given this consideration.

### Fixed Effects
```{r fe.basic_part_time, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
fe.basic_part_time <- plm(INCOME_LOG ~ FAMILY_CARE + as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), # id & time variables
               model = "within", 
               data = NLSY_Valid_Childcare_Part_Time_One_Child) 
summary(fe.basic_part_time)
```

* *Fixed Effects Interpretation*: For working women (part time and above) with one child, changing to family childcare as the primary type of childcare (e.g., from formal childcare systems), there is a 4.7% increase in income net of person across the years that this study is conducted. This finding is not statistically significant; further, the adjusted R2 is negative, indicating that this model does not account for the variation in the dependent variable (wages logged). 
  - Commonly, a negative adjusted R2 occurs when Residual Sum of Squares (RSS) approaches the total Sum of Squares (TSS), indicating that explanation is very low, particularly due to a smaller sample size. 
  
### Random Effects 
```{r re.basic_part_time, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
re.basic_part_time  <- plm(INCOME_LOG ~ FAMILY_CARE + as.factor(YEAR), # model formula
               index = c("PUBID_1997", "YEAR"),
               model = "random", 
               data = NLSY_Valid_Childcare_Part_Time_One_Child)
summary(re.basic_part_time)
```
  
* *Random Effects Interpretation*: For working women (part time and above) with one child changing to family childcare as the primary type of childcare (e.g., from formal childcare systems), there is a 0.1% decrease in income net of person across the years that this study is conducted, net of time and adjusting for the fact that the same person is answering the same survey. This finding is not statistically significant.

### Pooled Model 
```{r pooled.basic_part_time, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
pooled.basic_part_time <- plm(INCOME_LOG ~ FAMILY_CARE + as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), 
               model = "pooling", 
               data = NLSY_Valid_Childcare_Part_Time_One_Child) ## this is equivalent to above OLS ##
summary(pooled.basic_part_time)
```
  
* *Pooled Model*: For every working woman (part time and above) with one child changing to family childcare (from non-family childcare), there is a 8.7% negative change in income on average net of time. This finding is **statistically significant.** 

### Summary Table
```{r stargazer.basic_part_time, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
stargazer(fe.basic_part_time, re.basic_part_time, pooled.basic_part_time,
          title="Regression Results", 
          align=TRUE, 
          dep.var.labels=c("Income"), 
          no.space=TRUE, 
          column.labels=c("Fixed Effects", "Random Effects", "Pooled"), 
          dep.var.caption="", 
          model.numbers=FALSE,
          # type = "latex", 
          type = "text", 
          omit = "Constant")
```
  
* Overall, the results **do not** support my initial Hypothesis 1, that women using family-based childcare options as their primary childcare source would comparatively have better wage outcomes comparatively over time.  
* Of all these models, the only models showing any statistically significant results is the pooled model, which may be in part due to sample size constraints. 
* Results seem to indicate that **for panels of women with their first child under 6 who are working at least part time, the use of relative-provided childcare  (e.g. rather than other childcare options) corresponds with relatively statistically insignificant or negative impact on wage over time.**

Our next step is to add our control variables. As alluded to in the Independent and Dependent Variables sections of this report, we will be controlling for socioeconomic status, education (BA+ / not), marital status, and age of mother with first child. 

## Hypothesis 1: Model with Controls (Socioeconomic Indicator - Spousal Income, Control for Maternal Age)

Now, our dataset includes all women with at least part-time (20+ hours) income-generating work, with their FIRST child only. I only include first child here to control for variables that may arise with additional children once more. The models (all with `_part_time_full`) include the control variables listed in the **Data and Variables** portion of this report. 

### Fixed Effects
```{r fe.part_time_full, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
fe.part_time_full <- plm(INCOME_LOG ~ FAMILY_CARE + MARRIED_OR_COHABITATING + BA_ABOVE + SPOUSAL_INCOME_LOG + as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), # id & time variables
               model = "within", 
               data = NLSY_Valid_Childcare_Part_Time_One_Child)

NLSY_Valid_Childcare_Part_Time_One_Child %>% select(FAMILY_CARE,RELATIVE_CARE,INCOME_LOG)
summary(fe.part_time_full)

```

* *Fixed Effects Interpretation*: For working women (part time and above) with one child changing to family childcare as the primary type of childcare (e.g., from formal childcare systems), there is a 3.86% increase in income net of person, net of socioeconomic, education, and marital status factors, across the years that this study is conducted. This finding is **statistically insignificant**.  
* The adjusted R square is negative as it was before, indicating the lack of explanatory power in this model.

### Random Effects 
```{r re.part_time_full, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE, column.sep.width="1pt", comment=NA, font.size=8}
re.part_time_full  <- plm(INCOME_LOG ~ FAMILY_CARE + MARRIED_OR_COHABITATING + BA_ABOVE + SPOUSAL_INCOME_LOG + 
                         MOTHER_AGE_FIRST_CHILD + as.factor(YEAR),
                       index = c("PUBID_1997", "YEAR"),
                       model = "random",
                       data = NLSY_Valid_Childcare_Part_Time_One_Child)
summary(re.part_time_full)
```
  
* *Random Effects Interpretation*: For working women (part time and above) with one child changing to family childcare as the primary type of childcare (e.g., from formal childcare systems), there is a 0.1% decrease in income net of person across the years that this study is conducted, net of socioeconomic, education, and marital status factors, and adjusting for the fact that the same person is answering the same survey. This finding is **not statistically significant**. 

```{r}
phtest(fe.part_time_full, re.part_time_full)
```

### Pooled Model 
```{r pooled.part_time_full, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
pooled.part_time_full <- plm(INCOME_LOG ~ FAMILY_CARE + MARRIED_OR_COHABITATING + BA_ABOVE + MOTHER_AGE_FIRST_CHILD + SPOUSAL_INCOME_LOG + as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), 
               model = "pooling", 
               data = NLSY_Valid_Childcare_Part_Time_One_Child) ## this is equivalent to above OLS ##
summary(pooled.part_time_full)
```
  
* *Pooled Model*: For working women (part time and above) with one child changing to family childcare (from non-family childcare), net of marital status, college education, maternal age, and household socioeconomic status, there is a 6.1% negative change in income on average net of time. This finding is statistically significant. 

#### Summary Table
```{r stargazer.part_time_full, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
stargazer(fe.part_time_full, re.part_time_full,pooled.part_time_full,
          title="Regression Results", 
          align=TRUE, 
          dep.var.labels=c("Income"), 
          no.space=TRUE, 
          column.labels=c("Fixed Effects", "Random Effects", "Pooled"), 
          dep.var.caption="", 
          model.numbers=FALSE,
          # type = "latex", 
          type = "text", 
          omit = "Constant")
```
  
* Model with control variable results (controlling for spousal income rather than socioeconomic status) seem to indicate that mothers switching to childcare from relatives as the primary option tend to exhibit lower/insignificant wage growth over time (net of other factors) on average.  

## Hypothesis 1: Do Formal Childcare options yield more meaningful positive results? 

These models may be added to the appendix, but they are meant to examine whether formal childcare options such as daycare, preschool, etc. (e.g., a change from no childcare to formal or a change from informal/relative provided to formal childcare) yield any positive results for part-time working mothers. 

Our dataset here includes all women with at least part-time (20+ hours) income-generating work, with their FIRST child only. The models (all with `_formal`) include the control variable slisted above, with family income (household income) as a control for socioeconomic status.  

### Summary Table
```{r stargazer.part_time_1_formal, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}

fe.part_time_1_formal <- plm(INCOME_LOG ~ FORMAL_CHILDCARE + MARRIED_OR_COHABITATING + BA_ABOVE + as.factor(YEAR) + SPOUSAL_INCOME_LOG,
               index = c("PUBID_1997", "YEAR"), # id & time variables
               model = "within", 
               data = NLSY_Valid_Childcare_Part_Time_One_Child) 

re.part_time_1_formal  <- plm(INCOME_LOG ~ FORMAL_CHILDCARE + MARRIED_OR_COHABITATING + BA_ABOVE + SPOUSAL_INCOME_LOG + MOTHER_AGE_FIRST_CHILD + as.factor(YEAR), # model formula
               index = c("PUBID_1997", "YEAR"),
               model = "random", 
               data = NLSY_Valid_Childcare_Part_Time_One_Child)

pooled.part_time_1_formal <- plm(INCOME_LOG ~ FORMAL_CHILDCARE + MARRIED_OR_COHABITATING + BA_ABOVE + SPOUSAL_INCOME_LOG + MOTHER_AGE_FIRST_CHILD +  as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), 
               model = "pooling", 
               data = NLSY_Valid_Childcare_Part_Time_One_Child) 

stargazer(fe.part_time_1_formal,pooled.part_time_1_formal,
          title="Regression Results", 
          align=TRUE, 
          dep.var.labels=c("Income"), 
          no.space=TRUE, 
          column.labels=c("Fixed Effects", "Pooled"), 
          dep.var.caption="", 
          model.numbers=FALSE,
          # type = "latex", 
          type = "text", 
          omit = "Constant")
```
  
* Here, the results seem indicate that **for panels of women working at least part-time with ONE child under 6, the use of FORMALLY-provided childcare option (e.g. rather than other childcare options) also corresponds with NEGATIVE/INSIGNIFICANT impact on wage over time.**

* If we once more shift from looking at the fixed effects model to looking at the pooled model, it does look like on average and net of time, mothers shifting to formally provided childcare options as their primary option tended to exhibit a 3% positive change in income; however, this relationship was not statistically significant. 

## Hypothesis 2: Pooled Logit 

### Family Care vs Full time 
```{r pooled-logit, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
pooled_logit_1 <- glm(FULL_TIME ~ FAMILY_CARE + 
                        MARRIED_OR_COHABITATING + BA_ABOVE + SPOUSAL_INCOME_LOG + MATERNAL_AGE + as.factor(YEAR), 
                      data = NLSY_Valid_Childcare_Part_Time_One_Child,family="binomial")
# summary(pooled_logit_1)

stargazer(pooled_logit_1,
          title="Regression Results", 
          align=TRUE, 
          dep.var.labels=c("Income"), 
          no.space=TRUE, 
          dep.var.caption="", 
          model.numbers=FALSE,
          # type = "latex", 
          type = "text", 
          omit = "Constant")
```
  
* The results indicate that relative to other options selected, net of time and maternal age, the use of relative-provided care does not have a statistically significant relationship to a change from part-time (20 hours) to full time (>34 hours) work. 

### Comparison - Formal 
```{r pooled-logit-formal, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
pooled_logit_formal <- glm(FULL_TIME ~ FORMAL_CHILDCARE + 
                        MARRIED_OR_COHABITATING + BA_ABOVE +SPOUSAL_INCOME_LOG + MATERNAL_AGE + as.factor(YEAR), 
                      data = NLSY_Valid_Childcare_Part_Time_One_Child,family="binomial")
summary(pooled_logit_formal)
```

* The results indicate that relative to other options selected, net of time and maternal age, the use of formally-provided childcare **does** have a statistically significant relationship to a change from part-time (20 hours) to full time (>34 hours) work. 

* Based on these results, I also cannot accept my Hypothesis 2. 

## Hypothesis 3: Modelling Relatives' Closeness (15 Mins) and Wages

This model looks at the availability of relatives living within 15 Minutes and whether there is a relationship with working mothers' income. Due to sample size constraints (this question is only asked on a small subset of recipients), this model is only run in a pooled model. 

```{r relative closeness, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
NLSY_Relative_Avaialability <- NLSY_Valid_Childcare_Part_Time_One_Child[!is.na(NLSY_Valid_Childcare_Part_Time_One_Child$Relative_within_15_minutes), ]

pooled.relative <- plm(INCOME_LOG ~ Relative_within_15_minutes + MARRIED_OR_COHABITATING + BA_ABOVE + MOTHER_AGE_FIRST_CHILD + SPOUSAL_INCOME_LOG + as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), 
               model = "pooling", 
               data = NLSY_Relative_Avaialability) 
# summary(pooled.relative)

stargazer(pooled.relative,
          title="Regression Results", 
          align=TRUE, 
          dep.var.labels=c("Income"), 
          no.space=TRUE, 
          dep.var.caption="", 
          model.numbers=FALSE,
          # type = "latex", 
          type = "text", 
          omit = "Constant")
```


```{r pearson relative closeness, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
NLSY_Relative_Avaialability <- NLSY_Relative_Avaialability %>% dplyr::select(INCOME, MARRIED_OR_COHABITATING, BA_ABOVE,SPOUSAL_INCOME, MOTHER_AGE_FIRST_CHILD, MATERNAL_AGE,`YCCAL-6800`,FAMILY_CARE, N_CHILDREN,FULL_TIME,Relative_within_15_minutes,YEAR) 
NLSY_Relative_Avaialability <- NLSY_Valid_Childcare_Part_Time_One_Child[!is.na(NLSY_Valid_Childcare_Part_Time_One_Child$INCOME), ]
matrix <- as.matrix(NLSY_Relative_Avaialability %>% dplyr::select(INCOME, MARRIED_OR_COHABITATING, BA_ABOVE,SPOUSAL_INCOME, MOTHER_AGE_FIRST_CHILD,`YCCAL-6800`,FAMILY_CARE))
rcorr(matrix,type="pearson")

```

* *Pooled Model*: For working women (part time and above), change from no relatives within 15 minutes to them to having relatives within 15 minutes, net of marital status, college education, maternal age, household socioeconomic status, and time, there is a 0.5% negative change in income on average net of time. This finding is NOT statistically significant.   
* Thus I cannot support my Hypothesis 3 that when there are more relatives located close to the respondent, their mere availability can indicate a higher income.  

# Conclusions

Generally, what we seem to be looking at is the wage impact over time of part-time working mothers. I have run number of panel models (fixed effect, random effect, and pooled) looking at the relationship between relative-provided childcare and wages over time, as well as models looking at the relationship between relative-provided care and likelihood of full time vs part time work. I also compared my results to models looking at formal childcare systems use as primary childcare method. 

* Overall, it appears that relative-provided childcare (rather than other childcare sources) is consistently found to be *negatively* or *insignificantly* related with womens' wages when they are consistently working without their child (part time status or up). 
The fixed effects model now shows a statistically insignificant negative relationship whilst the pooled model reflects a statistically significant negative relationship.

* We do not find any statistically significant relationship between the use of relative-provided childcare and full-vs part-time work in mothers. 

* We do not find any statistically significant relationship between the availability of relatives within 15 minutes and wages over time.

* Interestingly, it also appears that relative-provided childcare (rather than other childcare sources) is consistently found to be *negatively* or *insignificantly* related with womens' wages when they are consistently working without their child (part time status or up); however, the fixed effects model now shows a more statistically significant negative relationship whilst the pooled model reflects an insignificant positive relationship. 

# Limitations and other areas of exploration
* One major limitation is the flow of the survey questions in the NLSY - questions such as 'Does a relative live within 15 minutes of you?' are predicated on the respondent being place into a specific subgroup (i.e., only respondents issued the long-form version of their questionnaires). 
* The research within currently only looks at short-term impact (i.e., within the first 6 years of the child's life), and stops asking about such questions when the child turns either 6 or 13 (depending on whether we are using the long form or regular version of this survey question). 
* Given the nature of the hours worked and education (without child), it is slightly difficult to proxy stay at home mothers working at least part-time for comparison. 

# Appendix 

This section includes models that were run experimentally and will not be discussed in as much detail within my results, but will be added in the Appendix section of my paper. 

## Relative-Provided Care (with Controls) - ANY children under 6 

Here, our data-set includes all women with at least part-time (20+ hours) income-generating work, ANY children under 6 years of age. the purpose of this additional work was to look into whether our findings would be any different if we are looking at women with multiple children and their childcare options. For these models, I note that there is a larger sample size and wanted to see if the results were substantially different 

### Fixed Effects
```{r fe.part_time_all, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
fe.part_time_all <- plm(INCOME_LOG ~ FAMILY_CARE + N_CHILDREN + MARRIED_OR_COHABITATING + BA_ABOVE + SPOUSAL_INCOME_LOG + as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), # id & time variables
               model = "within", 
               data = NLSY_Valid_Childcare_Part_Time_2)
summary(fe.part_time_all)
```

* *Fixed Effects Interpretation*: For working women (part time and above) with **any** child changing to family childcare as the primary type of childcare (e.g., from formal childcare systems), there is a 1% decrease in income net of person, net of socioeconomic, education, and marital status factors, across the years that this study is conducted. This finding is **statistically insignificant**.  
* The adjusted R square is negative as it was before, indicating the lack of explanatory power in this model.

### Random Effects 
```{r re.part_time_all, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
re.part_time_all  <- plm(INCOME_LOG ~ FAMILY_CARE + N_CHILDREN + MARRIED_OR_COHABITATING + BA_ABOVE + SPOUSAL_INCOME_LOG + 
                         MOTHER_AGE_FIRST_CHILD + as.factor(YEAR),
                       index = c("PUBID_1997", "YEAR"),
                       model = "random",
                       data = NLSY_Valid_Childcare_Part_Time_2)
summary(re.part_time_all)
```
  
* *Random Effects Interpretation*: For working women (part time and above) with any child changing to family childcare as the primary type of childcare (e.g., from formal childcare systems), there is a 3.9% decrease in income net of person across the years that this study is conducted, net of socioeconomic, education, and marital status factors, and adjusting for the fact that the same person is answering the same survey. This finding is **not statistically significant**. 

### Pooled Model 
```{r pooled.part_time_all, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
pooled.part_time_all <- plm(INCOME_LOG ~ FAMILY_CARE + N_CHILDREN +  MARRIED_OR_COHABITATING + BA_ABOVE + MOTHER_AGE_FIRST_CHILD + SPOUSAL_INCOME_LOG + as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), 
               model = "pooling", 
               data = NLSY_Valid_Childcare_Part_Time_2) ## this is equivalent to above OLS ##
summary(pooled.part_time_all)
```
  
* *Pooled Model*: For working women (part time and above) with children changing to family childcare (from non-family childcare), net of marital status, college education, maternal age, and household socioeconomic status, there is a 7% negative change in income on average net of time. This finding is statistically significant. 

#### Summary Table
```{r stargazer.part_time_all, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
stargazer(fe.part_time_all, pooled.part_time_all,
          title="Regression Results", 
          align=TRUE, 
          dep.var.labels=c("Income"), 
          no.space=TRUE, 
          column.labels=c("Fixed Effects",
                          #"Random Effects", 
                          "Pooled"), 
          dep.var.caption="", 
          model.numbers=FALSE,
          # type = "latex", 
          type = "text", 
          omit = "Constant")
```
  
* Model with control variable results (controlling for spousal income rather than socioeconomic status) seem to indicate that mothers switching to childcare from relatives as the primary option tend to exhibit lower/insignificant wage growth over time (net of other factors). 
* This is virtually the same as the results displayed above with one child only. 
* The Adjusted R2 is improved in the fixed effects model; however it is still negative indicating that our variables are not capturing variation in our dependent variable very well within this model. 

## Formally Provided Childcare - Part Time Women with ANY children under 6

Again, our dataset here includes women with at least part-time (20+ hours) income-generating work, with their ANY child under 6 years of age.

#### Summary Table
```{r stargazer.part_time_all_formal, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}

fe.part_time_all_formal <- plm(INCOME_LOG ~ FORMAL_CHILDCARE + N_CHILDREN + MARRIED_OR_COHABITATING + BA_ABOVE + 
                                 SPOUSAL_INCOME_LOG +
                                as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), # id & time variables
               model = "within", 
               data = NLSY_Valid_Childcare_Part_Time_2) 

re.part_time_all_formal  <- plm(INCOME_LOG ~ FORMAL_CHILDCARE + N_CHILDREN + MARRIED_OR_COHABITATING + BA_ABOVE + 
                                  SPOUSAL_INCOME_LOG + 
                                 MOTHER_AGE_FIRST_CHILD + 
                                as.factor(YEAR), # model formula
               index = c("PUBID_1997", "YEAR"),
               model = "random", 
               data = NLSY_Valid_Childcare_Part_Time_2)

pooled.part_time_all_formal <- plm(INCOME_LOG ~ FORMAL_CHILDCARE +N_CHILDREN+ MARRIED_OR_COHABITATING + BA_ABOVE + 
                                     SPOUSAL_INCOME_LOG + MOTHER_AGE_FIRST_CHILD + 
                                as.factor(YEAR), 
               index = c("PUBID_1997", "YEAR"), 
               model = "pooling", 
               data = NLSY_Valid_Childcare_Part_Time_2) 

stargazer(fe.part_time_all_formal,pooled.part_time_all_formal,
          title="Regression Results", 
          align=TRUE, 
          dep.var.labels=c("Income"), 
          no.space=TRUE, 
          column.labels=c("Fixed Effects", "Pooled"), 
          dep.var.caption="", 
          model.numbers=FALSE,
          # type = "latex", 
          type = "text", 
          omit = "Constant")
```  
  
* Results are once more showing similar relationships with the formally provided childcare models in the main body of this report; however, in this case, the positive relationship in the pooled model is now statistically significant, indicating the use of formal care overall seems to correspond on average with higher income. 

## Relative-Provided Care (with Controls) - ANY Income 

Here, our data-set includes all women with at least part-time (20+ hours) income-generating work, ANY children under 6 years of age. the purpose of this additional work was to look into whether our findings would be any different if we are looking at women with multiple children and their childcare options. For these models, I note that there is a larger sample size and wanted to see if the results were substantially different 

### Fixed Effects
```{r fe.all, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
fe.all <- plm(INCOME_LOG ~ FAMILY_CARE + N_CHILDREN + MARRIED_OR_COHABITATING + BA_ABOVE + SPOUSAL_INCOME_LOG + as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), # id & time variables
               model = "within", 
               data = NLSY_Valid_Childcare_Income_One_Child)
summary(fe.all)
```

* *Fixed Effects Interpretation*: For working women (part time and above) with **any** child changing to family childcare as the primary type of childcare (e.g., from formal childcare systems), there is a 0.6% decrease in income net of person, net of socioeconomic, education, and marital status factors, across the years that this study is conducted. This finding is **statistically insignificant**.  
* The adjusted R square is negative as it was before, indicating the lack of explanatory power in this model.
  
### Pooled Model 
```{r pooled.all, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8}
pooled.all <- plm(INCOME_LOG ~ FAMILY_CARE + N_CHILDREN +  MARRIED_OR_COHABITATING + BA_ABOVE + MOTHER_AGE_FIRST_CHILD + SPOUSAL_INCOME_LOG + as.factor(YEAR),
               index = c("PUBID_1997", "YEAR"), 
               model = "pooling", 
               data = NLSY_Valid_Childcare_Income_One_Child) ## this is equivalent to above OLS ##
summary(pooled.all)
```
  
* *Pooled Model*: For all working women with children changing to family childcare (from non-family childcare), net of marital status, college education, maternal age, and household socioeconomic status, there is a 11.7% positive change in income on average net of time. This finding is statistically significant. 

```{r}
stargazer(fe.all,pooled.all,
          title="Regression Results", 
          align=TRUE, 
          dep.var.labels=c("Income"), 
          no.space=TRUE, 
          column.labels=c("Fixed Effects","Pooled"), 
          dep.var.caption="", 
          model.numbers=FALSE,
          # type = "latex", 
          type = "text", 
          omit = "Constant")
```

## Cluster Descriptives - Switching between modes of childcare 
```{r}

# -- Changes made in childcare mode - ---------------------
## -----------------------------------------------------------------------------------------------------------------------------------
# Any income women with one child
 NLSY_Valid_Childcare_Income_One_Child <-  NLSY_Valid_Childcare_Income_One_Child %>%  arrange(PUBID_1997,YEAR) %>%  group_by(PUBID_1997) %>% 
mutate(changed_to_relative = ifelse(lag(FAMILY_CARE) == 0 & FAMILY_CARE == 1, 1, 0)) %>%  mutate(ever_changed_to_relative = max(changed_to_relative)) %>%  mutate(changed_to_formal = ifelse(lag(FORMAL_CHILDCARE)==0 & FORMAL_CHILDCARE==1, 1, 0)) %>%  mutate(ever_changed_to_formal = max(changed_to_formal))
# Part time women with one child
 NLSY_Valid_Childcare_Part_Time_One_Child <- NLSY_Valid_Childcare_Part_Time_One_Child %>%  arrange(PUBID_1997,YEAR) %>%  group_by(PUBID_1997) %>% 
mutate(changed_to_relative = ifelse(lag(FAMILY_CARE) == 0 & FAMILY_CARE == 1, 1, 0)) %>%  mutate(ever_changed_to_relative = max(changed_to_relative)) %>%  mutate(changed_to_formal = ifelse(lag(FORMAL_CHILDCARE)==0 & FORMAL_CHILDCARE==1, 1, 0)) %>%  mutate(ever_changed_to_formal = max(changed_to_formal))
# Descriptive statistics for changing childcare modes
 psych::describe(NLSY_Valid_Childcare_Part_Time_One_Child %>%  select(PUBID_1997,MATERNAL_AGE,CV_HGC_EVER_EDT,CV_INCOME_FAMILY,WORK_EDU_HRS,ever_changed_to_relative,INCOME) %>%  subset(ever_changed_to_relative == 1))

## ----valid_childcare_pearson, eval=TRUE, echo=TRUE, message=FALSE, warning=FALSE,column.sep.width = "1pt",comment=NA,font.size=8-----------
rcorr(as.matrix(NLSY_Valid_Childcare_Part_Time_2%>%  select(CV_HGC_EVER_EDT,WORK_EDU_HRS,MARRIED_OR_COHABITATING, MOTHER_AGE_FIRST_CHILD,INCOME,SPOUSAL_INCOME,FAMILY_CARE,FORMAL_CHILDCARE,N_CHILDREN)),type="pearson")

```